source('/cloud/project/R/04_heatmaps.R')
setwd("/cloud/project")
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
View(heatmap_data_set_1)
source('/cloud/project/R/04_heatmaps.R')
View(data_set_1_wide)
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
install.packages(c("dplyr", "tidyverse"))
install.packages(c("dplyr", "tidyverse"))
source('/cloud/project/R/01_load.R')
source('/cloud/project/R/01_load.R')
install.packages("UniprotR")
source('/cloud/project/R/01_load.R')
source('/cloud/project/R/02_clean.R')
source('/cloud/project/R/03_augment.R')
source('/cloud/project/R/03_augment.R')
source('/cloud/project/R/04_heatmaps.R')
View(data_set_1)
source('/cloud/project/R/04_heatmaps.R')
View(data_set_1_wide)
View(data_set_1)
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
View(data_set_1_wide)
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
k
k
k
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
k
source('/cloud/project/R/04_heatmaps.R')
k
heatmap_data_set_1
source('/cloud/project/R/04_heatmaps.R')
k
heatmap_data_set_1
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4 <- ggplot(data_set_4, aes(mutation_position, mutation, fill = score)) +
geom_tile()
data_set_4 <- read_tsv(file = "./data/03_aug_data_set_4.tsv")
heatmap_data_set_4 <- ggplot(data_set_4, aes(mutation_position, mutation, fill = score)) +
geom_tile()
heatmap_data_set_1
heatmap_data_set_2
heatmap_data_set_3
heatmap_data_set_4
heatmap_data_set_3
source('/cloud/project/R/03_augment.R')
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
heatmap_data_set_3
heatmap_data_set_2
heatmap_data_set_1
heatmap_data_set_4 <- ggplot(data_set_4, aes(mutation_position, mutation, fill = score)) +
geom_tile() +
xlim(2, 15)
heatmap_data_set_4
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
heatmap_data_set_1
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_1
heatmap_data_set_2
heatmap_data_set_3
heatmap_data_set_4
heatmap_data_set_3
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
View(heatmap_data_set_4)
View(data_set_4)
source('/cloud/project/R/04_heatmaps.R')
View(data_set_4)
View(heatmap_data_set_4)
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_1
heatmap_data_set_2
heatmap_data_set_3
heatmap_data_set_4
heatmap_data_set_3
heatmap_data_set_1
heatmap_data_set_4
heatmap_data_set_3
heatmap_data_set_1
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set1
distribution_data_set1 <- ggplot(data_set_1, aes(score)) +
geom_density()
distribution_data_set1
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set1
distribution_data_set_1
distribution_data_set_2
distribution_data_set_3
distribution_data_set_4
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_4
distribution_data_set_3
distribution_data_set_2
distribution_data_set_1
distribution_data_set_2
distribution_data_set_3
distribution_data_set_4
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_4
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_3
heatmap_data_set_1
heatmap_data_set_2
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_4
heatmap_data_set_3
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
View(data_set_4)
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_3
View(data_set_3)
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_3
heatmap_data_set_4
View(data_set_4)
View(data_set_2)
distribution_data_set_2
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_2
distribution_data_set_1
source('/cloud/project/R/04_heatmaps.R')
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_1
distribution_data_set_1
source('/cloud/project/R/04_heatmaps.R')
heatmap_data_set_1
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_4
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_4
distribution_data_set_3
distribution_data_set_2
distribution_data_set_1
View(data_set_3)
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_4
source('/cloud/project/R/04_heatmaps.R')
ddistribution_data_set_4_c
distribution_data_set_4_c <- ggplot(data_set_4, aes(score), color=mutation) +
geom_density(alpha=0.4)
ddistribution_data_set_4_c
source('/cloud/project/R/04_heatmaps.R')
ddistribution_data_set_4_c
source('/cloud/project/R/04_heatmaps.R')
ddistribution_data_set_4_c
distribution_data_set_4_c
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_4_c
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_1_c
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_1_c
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_1_c
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_2_c
distribution_data_set_1_c
distribution_data_set_2_c
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_2_c
library("glmnet")
install.packages('glmnet')
source('/cloud/project/R/04_glmnet.R')
View(aug_data_set_4)
source('/cloud/project/R/04_glmnet.R')
View(Y_train)
source('/cloud/project/R/04_glmnet.R')
View(data)
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
sequence_window
View(data)
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
View(data)
View(encoded_sequences)
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
View(encoded_sequences)
View(encoded_sequences)
View(encoded_sequences)
View(encoded_sequences)
source('/cloud/project/R/04_glmnet.R')
View(encoded_sequences)
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
View(encoded_sequences)
source('/cloud/project/R/04_glmnet.R')
View(encoded_sequences)
source('/cloud/project/R/04_glmnet.R')
View(encoded_sequences)
source('/cloud/project/R/04_glmnet.R')
View(encoded_sequences)
source('/cloud/project/R/04_glmnet.R')
View(encoded_sequences)
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
View(X_train)
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/03_augment.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
View(X_train)
source('/cloud/project/R/04_glmnet.R')
View(X_train)
source('/cloud/project/R/04_glmnet.R')
plot(fitted)
plot(fit)
print(fit)
X_train[2]
predict(fit,X_train)
cvfit = cv.glmnet(X_train, Y_train)
plot(cv)
plot(cvfit)
source('/cloud/project/R/04_glmnet.R')
cvfit = cv.glmnet(X_train, Y_train)
plot(cvfit)
coef(cvfit, s = "lambda.min")
y_pred = predict(fit,X_train)
pl = tibble(y_pred, Y_train)
ggplot(pl, aes(x=Y_train, y=y_pred)) + geom_point()
y_pred
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
plot(fit.lasso.cv)
plot(fit.ridge.cv)
plot(fit.elnet.cv)
for (i in 0:10) {
assign(paste("fit", i, sep=""), cv.glmnet(x.train, y.train, type.measure="mse",
alpha=i/10,family="gaussian"))
}
source('/cloud/project/R/04_heatmaps.R')
View(heatmap_data_set_2)
View(distribution_data_set_1)
distribution_data_set_1
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_heatmaps.R')
distribution_data_set_4
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
View(aug_data_set_4)
View(data)
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
gg
plot(fit.lasso.cv)
plot(fit.ridge.cv)
plot(fit.elnet.cv)
source('/cloud/project/R/04_glmnet.R')
gg
source('/cloud/project/R/04_glmnet.R')
gg
source('/cloud/project/R/04_glmnet.R')
gg
plot(fit.lasso.cv)
plot(fit.ridge.cv)
plot(fit.elnet.cv)
gg
source('/cloud/project/R/04_glmnet.R')
gg
View(results)
gg <- ggplot(results, aes(x=score, y=count, color=model)) + geom_point()
gg
View(results)
gg <- ggplot(results, aes(x=score, y=prediction, color=model)) + geom_point()
gg
source('/cloud/project/R/04_glmnet.R')
source('/cloud/project/R/04_glmnet.R')
gg
source('/cloud/project/R/04_glmnet.R')
gg
source('/cloud/project/R/04_glmnet.R')
gg
source('/cloud/project/R/04_glmnet.R')
gg
source('/cloud/project/R/04_glmnet.R')
gg
source('/cloud/project/R/04_glmnet.R')
gg
source('/cloud/project/R/04_glmnet.R')
data(MultinomialExample)
source('/cloud/project/R/04_glmnet.R')
gg
plot(fit.ridge.cv)
source('/cloud/project/R/04_glmnet.R')
gg
plot(fit.ridge.cv)
data(MultinomialExample)
View(x)
y
View(clean_data_set_4)
source('/cloud/project/R/04_glmnet_classification.R')
View(data)
source('/cloud/project/R/04_glmnet_classification.R')
View(Y)
source('/cloud/project/R/04_glmnet_classification.R')
source('/cloud/project/R/04_glmnet_classification.R')
plot(fit)
source('/cloud/project/R/04_glmnet_classification.R')
plot(fit)
y_pred<-predict(cvfit, newx = X_test, s = "lambda.min", type = "class")
y_pred<-predict(fit, newx = X_test, s = "lambda.min", type = "class")
res<-tibble(Y_test,y_pred)
View(res)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
conf
conf <- confusionMatrix(res)
res
res
source('/cloud/project/R/04_glmnet_classification.R')
plot(fit)
Y_test <- factor(Y_test)
y_pred<-predict(fit, newx = X_test, s = "lambda.min", type = "class")
y_pred <- factor(y_pred)
conf <- confusionMatrix(y_pred, Y_test)
cm <- caret::confusionMatrix(
y_pred,
Y_test
)
install.packages("e1071")
library(e1071)
cm <- caret::confusionMatrix(
y_pred,
Y_test
)
View(cm)
View(cm)
View(cm)
cm
cm.table
ggplot(cm)
cm$table
conf <- tibble(cm)
conf <- tibble(cm$table)
conf
mat <- tidy(cm)
library("broom")
mat <- tidy(cm)
mat
View(mat)
library(yardstick)
install.packages(yardstick)
install.packages("tidymodels")
library(tidymodels)
res<-tibble(Ã_test, y_pred)
res<-tibble(Y_test, y_pred)
confm <- res %>% conf_mat(Y_test, y_pred)
View(confm)
View(confm)
confm$table
t <- confm %>% select(table)
t
confm$table
tibble(confm$table)
plotTable <- confm$table %>%
mutate(goodbad = ifelse(table$Prediction == table$Reference, "good", "bad")) %>%
group_by(Reference) %>%
mutate(prop = Freq/sum(Freq))
table <- data.frame(cm)$table)
table <- data.frame(cm$table)
table
View(table)
table <- tibble(cm$tibble()
f
table <- tibble(cm$tibble())
table <- tibble(cm$table)
table <- data.frame(cm$table)
t <- tibble(table)
t
plotTable <- table %>%
mutate(goodbad = ifelse(table$Prediction == table$Reference, "good", "bad")) %>%
group_by(Reference) %>%
mutate(prop = Freq/sum(Freq))
ggplot(data = plotTable, mapping = aes(x = Reference, y = Prediction, fill = goodbad, alpha = prop)) +
geom_tile() +
geom_text(aes(label = Freq), vjust = .5, fontface  = "bold", alpha = 1) +
scale_fill_manual(values = c(good = "green", bad = "red")) +
theme_bw() +
xlim(rev(levels(table$Reference)))
View(plotTable)
ggplot(data = plotTable, mapping = aes(x = Reference, y = Prediction, fill = freq)) +
geom_tile() +
geom_text(aes(label = Freq), vjust = .5, fontface  = "bold", alpha = 1)
plotTable
ggplot(data = plotTable, mapping = aes(x = Reference, y = Prediction, fill = freq)) +
geom_tile() +
geom_text(aes(label = Freq), vjust = .5, fontface  = "bold", alpha = 1)
ggplot(data = plotTable, mapping = aes(x = Reference, y = Prediction, fill = Freq)) +
geom_tile() +
geom_text(aes(label = Freq), vjust = .5, fontface  = "bold", alpha = 1)
xlim(rev(levels(table$Reference)))
ggplot(data = plotTable, mapping = aes(x = Reference, y = Prediction, fill = Freq)) +
geom_tile() +
geom_text(aes(label = Freq), vjust = .5, fontface  = "bold", alpha = 1) +
xlim(rev(levels(table$Reference)))
ggplot(data = plotTable, mapping = aes(x = Reference, y = Prediction, fill = Freq)) +
geom_tile() +
geom_text(aes(label = Freq), vjust = .5, fontface  = "bold", alpha = 1) +
theme_bw() +
xlim(rev(levels(table$Reference)))
ggplot(data = plotTable, mapping = aes(x = Reference, y = Prediction, fill = Freq)) +
geom_tile()
ggplot(data = plotTable, mapping = aes(x = Reference, y = Prediction, fill = Freq)) +
geom_tile() +
geom_text(aes(label = Freq), vjust = .5, fontface  = "bold", alpha = 1) +
theme_bw() +
ylim(rev(levels(table$Prediction)))
source('/cloud/project/R/04_glmnet_classification.R')
source('/cloud/project/R/04_glmnet_classification.R')
source('/cloud/project/R/04_glmnet_classification.R')
View(data)
source('/cloud/project/R/04_glmnet_classification.R')
View(data)
source('/cloud/project/R/04_glmnet_classification.R')
res <- tibble(Y_test, Y_pred)
conf <- res %>%
ggplot(aes(x = Y_test,y = y_pred)) +
geom_tile(aes(fill = Freq)) +
geom_text(aes(label = sprintf("%1.0f", Freq)), vjust = 1) +
scale_fill_gradient(low = "blue",
high = "red")
plotTable <- table %>%
mutate(goodbad = ifelse(table$Prediction == table$Reference, "good", "bad")) %>%
group_by(Reference) %>%
mutate(prop = Freq/sum(Freq))
ggplot(data = plotTable, mapping = aes(x = Prediction, y = Reference, fill = freq)) +
geom_tile() +
geom_text(aes(label = Freq), vjust = .5, fontface  = "bold", alpha = 1) +
scale_fill_manual(values = c(good = "green", bad = "red")) +
theme_bw() +
ylim(rev(levels(table$Reference)))
res <- tibble(Y_test, Y_pred)
table<-confusionMatrix(res)
table<-confusionMatrix(Y_test, Y_pred)
